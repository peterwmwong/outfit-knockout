!(function(){"use strict";function t(){}function e(){this.map=new t}function n(t,e){L(t),e.removeChild(t.$n)}function r(t,e,r){for(;r<t.length;)n(t[r++],e)}function o(t,e){for(var n=0;n<t.length;)L(t[n++]);e.textContent=""}function i(t,e){return t.$s===e.$s&&(e.$s.u(e,t),!0)}function a(t,e,n,r){null===r?u(t,e,n):c(t,e,n,r)}function c(t,e,n,r){for(;n<e.length;)t.insertBefore((e[n]=k(e[n])).$n,r),++n}function u(t,e,n){for(;n<e.length;)t.appendChild((e[n]=k(e[n])).$n),++n}function s(t,e,n){var r=document.createDocumentFragment(),o=I(t,r,e);return T(n,r),o}function d(t,e,n,o){for(var i=0;i<e.length&&i<n.length;i++)e[i]=A(n[i],e[i]);i<e.length?a(t,e,i,o):r(n,t,i)}function f(t,e,n){n.length?e.length?d(t,e,n,null):o(n,t):u(t,e,0)}function l(t,e,n,i){return t instanceof Array?(n?f(e,t,i):d(e.parentNode,t,i,e),e):n?(o(i,e),I(!0,e,t)):void r(i,e.parentNode,0)}function h(t,e,n){if(!(t instanceof Object))return e.nodeValue=$(t)?"":t,e}function p(t,e,n,r){var o=void 0;if(t&&i(o=r.$r||r,t))return t.$r=o,e}function m(e,n,r,o){this._boundActions=new t,this._parentInst=r,this.actions=o,this.props=n,this.render=e,this.bindSend=this.bindSend.bind(this),this.state=o.onInit(this),this.$n=O(this._instance=e(this))}function b(t,e,n,r){return new m(t,e,n,r)}function v(t,e){var n=t(e);return O(n),n}function g(t,e,n,r){var o=(e?b:v)(t,n||P,r,e);return o}function y(t,e,n,r){var o=e?r.updateProps(n):A(r,t(n));return o}function O(t){var e=t.$s.c(t);return t.$n=e,e.xvdom=t,e}function k(t){var e=t.$s,n=e.r.pop(t.key);return n?(e.u(t,n),n):(O(t),t)}function I(t,e,n){return n instanceof Array?(u(e,n,0),t?e:e.appendChild(j(""))):e.appendChild(n instanceof Object?O(n):j($(n)?"":n))}function C(t,e,n,r){return(e instanceof Object?e instanceof Array?l(n,r,t,e):p(n,r,t,e):h(n,r,t))||s(t,n,r)}function A(t,e){return i(t,e)?t:(T(t.$n,(e=k(e)).$n),L(t),e)}function D(t){var e=this.tabs,n=this.selected,r=this.hrefPrefix,o=e[t],i=o.href,a=o.title;return{$s:Y,a:"Tabs-tab u-cursor-pointer l-padding-h4 l-padding-b2 "+(n===t?"is-selected":""),c:""+r+(i||t),d:a||t,key:t}}function S(t){var e=this.item,n=this.context,r=this.itemClass,o=e(t,n),i=o.href,a=o.key,c=o.text;return{$s:$t,a:"List-item layout horizontal center t-normal "+(r||""),c:i,d:c,key:a}}function x(t){for(var e,n=0;n<mt.length;++n)if(e=mt[n],this[e]&&this[e][t])return!1;return!0}function w(t){for(var e,n=this.db.outfits[t],r=this.user.exclusions||{},o=Object.keys(r),i=0;i<o.length;++i)if(e=r[o[i]],!(0!==e.bottom&&e.bottom!==n.bottom||0!==e.shirt&&e.shirt!==n.shirt||0!==e.sweater&&e.sweater!==n.sweater||0!==e.businessAttire&&e.businessAttire!==n.businessAttire))return!1;return!0}function N(){if(firebase.auth().currentUser)return bt.unsetCurrent(),firebase.auth().signOut();var t=new firebase.auth.GoogleAuthProvider;t.addScope("https://www.googleapis.com/auth/plus.login"),firebase.auth().signInWithPopup(t).catch((function(t){return console.error(t)}))}var $=function(t){return null==t||t===!0||t===!1},P={},E={push:function(){},pop:function(){}};t.prototype=Object.create(null),e.prototype.push=function(t){var e=t.key,n=this.map;t.$x=n[e],n[e]=t},e.prototype.pop=function(t){var e=this.map[t];if(e)return this.map[t]=e.$x,e};var L=function(t){t.$s.r.push(t)},j=function(t){return document.createTextNode(t)},T=function(t,e){var n=t.parentNode;n&&n.replaceChild(e,t)};m.prototype.updateProps=function(t){var e=this.props;return this.props=t,this.actions.onProps?this.send("onProps",e):this.rerender(),this},m.prototype.bindSend=function(t){return this._boundActions[t]||(this._boundActions[t]=this.send.bind(this,t))},m.prototype.send=function(t,e){var n=void 0,r=this.actions[t];r&&(n=r(this,e))!=this.state&&(this.state=n,this.rerender())},m.prototype.rerender=function(){var t=A(this._instance,this.render(this));this._instance=t,t.$n.xvdom=this._parentInst};var z=function(t){return k(t).$n},_=function(t,e){return A(t.xvdom,e).$n},J=function(t){n(t.xvdom,t.parentNode)},R={createComponent:g,createDynamic:I,el:function(t){return document.createElement(t)},render:z,rerender:_,unmount:J,updateComponent:y,updateDynamic:C,Pool:e,DEADPOOL:E},G=R.el,U={c:function(t){var e=G("i");return t.b=e,e.className=t.a,e.onClickArg=t.c,e.onClickFn=t.d,e.onclick=t.e,e},u:function(t,e){var n;n=t.a,n!==e.a&&(e.b.className=n,e.a=n),n=t.c,n!==e.c&&(e.b.onClickArg=n,e.c=n),n=t.d,n!==e.d&&(e.b.onClickFn=n,e.d=n),n=t.e,n!==e.e&&(e.b.onclick=n,e.e=n)},r:R.DEADPOOL},q=function(t){var e=t.currentTarget;e.onClickFn(e.onClickArg)},F=function(t){var e=t.className,n=t.name,r=t.onClick,o=t.onClickArg,i=t.size,a=void 0===i?"med":i;return{$s:U,a:"Icon Icon--"+a+" octicon octicon-"+n+" "+e+" t-center",c:o,d:r,e:r&&q}},B=R.createDynamic,H=R.el,W=R.updateDynamic,K={c:function(t){var e=H("div");return e.className="Tabs layout horizontal end center-justified c-white l-height10 t-font-size-14 t-uppercase t-normal",t.b=B(!0,e,t.a),e},u:function(t,e){t.a!==e.a&&(e.b=W(!0,e.a,e.a=t.a,e.b))},r:R.DEADPOOL},Y={c:function(t){var e=H("a");return t.b=e,e.className=t.a,null!=t.c&&(e.href=t.c),t.e=B(!0,e,t.d),e},u:function(t,e){var n;n=t.a,n!==e.a&&(e.b.className=n,e.a=n),n=t.c,n!==e.c&&(e.b.href!==n&&(e.b.href=n),e.c=n),t.d!==e.d&&(e.e=W(!0,e.d,e.d=t.d,e.e))},r:R.DEADPOOL},M=function(t){return{$s:K,a:Object.keys(t.tabs).map(D,t)}},X=function(t){return new Promise(function(e,n){var r=new window.XMLHttpRequest,o=localStorage.getItem("ticker:token:github");r.open("GET",t),o&&r.setRequestHeader("Authorization","token "+o),r.responseType="json",r.send(),r.onerror=n,r.onload=function(){var t=r.response;t?e("string"==typeof t?JSON.parse(t):t):n(new Error("loadJSON: empty response"))}})};X.setAccessToken=function(t){localStorage.setItem("ticker:token:github",t)};var Q="ticker:storage",V=void 0;try{V=JSON.parse(localStorage.getItem(Q))}catch(t){}V||localStorage.setItem(Q,JSON.stringify(V=[]));var Z=function(){var t=V.pop();t&&(localStorage.removeItem(t),et(t,!1))},tt=function(t,e){for(var n=V.length;n--;)try{return void localStorage.setItem(t,e)}catch(t){Z()}},et=function(t,e){var n=V.indexOf(t);n>=0&&V.splice(n,1),e&&V.unshift(t),tt(Q,JSON.stringify(V))},nt=function(t){et(t,!0)},rt={getItem:function(t){var e=localStorage.getItem(t);return e&&nt(t),e},setItem:function(t,e){return tt(t,e),nt(t),e},getItemObj:function(t){var e=this.getItem(t),n=e&&JSON.parse(e);return n},setItemObj:function(t,e){return this.setItem(t,JSON.stringify(e)),e}},ot=function(t){return t},it=function(t){return rt.getItemObj(t)},at=function(t){var e=t.url,n=t.cache,r=t.transform,o=void 0===r?ot:r;return X(e).then(o).then(n?function(t){return rt.setItemObj(n,t)}:ot)},ct=function(t){var e=t.get,n=t.query;return{localGet:function(t){return it(e(t).cache)},get:function(t){return at(e(t))},localQuery:function(t){return it(n(t).cache)},query:function(t){return at(n(t))}}},ut=ct({get:function(){return{transform:function(t){return t.outfitIds=Object.keys(t.outfits).map((function(t){return+t})),t},url:"../static/db.json"}}}),st=(function(){function t(t){this.value=t}function e(e){function n(t,e){return new Promise(function(n,o){var c={key:t,arg:e,resolve:n,reject:o,next:null};a?a=a.next=c:(i=a=c,r(t,e))})}function r(n,i){try{var a=e[n](i),c=a.value;c instanceof t?Promise.resolve(c.value).then((function(t){r("next",t)}),(function(t){r("throw",t)})):o(a.done?"return":"normal",a.value)}catch(t){o("throw",t)}}function o(t,e){switch(t){case"return":i.resolve({value:e,done:!0});break;case"throw":i.reject(e);break;default:i.resolve({value:e,done:!1})}i=i.next,i?r(i.key,i.arg):a=null}var i,a;this._invoke=n,"function"!=typeof e.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)},{wrap:function(t){return function(){return new e(t.apply(this,arguments))}},await:function(e){return new t(e)}}}(),function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}),dt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ft=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},lt="ok:lastLoggedInUserId",ht=function(t){return firebase.database().ref("users/"+t)},pt=function(t){return rt.setItemObj("ok:"+t.id,t)},mt=["yup","nope","maybe"],bt={current:function(){var t=rt.getItem(lt);if(t)return this.localGet(t)},setCurrent:function(t){return rt.setItem(lt,t)},unsetCurrent:function(){var t=this.current();t&&(rt.setItemObj("ok:"+t.id,""),rt.setItem(lt,""))},localGet:function(t){return rt.getItemObj("ok:"+t)},save:function(t){return new Promise(function(e,n){ht(t.id).set(t,(function(r){return r?n(r):void e(pt(dt({},t)))}))})},get:function(t){return new Promise(function(e,n){ht(t).once("value",(function(t){var r=t.val();return r?void e(pt(r)):n("Couldn't find User")}))})}},vt=R.createComponent,gt=R.createDynamic,yt=R.el,Ot=R.updateComponent,kt=R.updateDynamic,It={c:function(t){var e,n,r,o=yt("div");return t.b=o,o.className=t.a,e=yt("div"),t.d=e,e.className=t.c,n=yt("div"),n.className="layout horizontal center-center l-height14",t.f=gt(!1,n,t.e),r=yt("div"),r.className="l-padding-r0 t-truncate t-font-size-20 flex",t.h=r,r.textContent=t.g,n.appendChild(r),r=(t.j=vt(F,F.state,{className:"t-bold c-white l-padding-h4",onClick:t.i,size:"small"},t)).$n,n.appendChild(r),t.l=gt(!1,n,t.k),e.appendChild(n),t.n=gt(!1,e,t.m),o.appendChild(e),o},u:function(t,e){var n;n=t.a,n!==e.a&&(e.b.className=n,e.a=n),n=t.c,n!==e.c&&(e.d.className=n,e.c=n),t.e!==e.e&&(e.f=kt(!1,e.e,e.e=t.e,e.f)),n=t.g,n!==e.g&&(e.h.textContent=n,e.g=n),t.i!==e.i&&(e.j=Ot(F,F.state,{className:"t-bold c-white l-padding-h4",onClick:e.i=t.i,size:"small"},e.j)),t.k!==e.k&&(e.l=kt(!1,e.k,e.k=t.k,e.l)),t.m!==e.m&&(e.n=kt(!1,e.m,e.m=t.m,e.n))},r:R.DEADPOOL},Ct=function(){},At=function(t){var e=t.props,n=e.title,r=e.secondary,o=e.left,i=e.right,a=t.state.scrollClass;return{$s:It,a:"AppToolbar "+(r?"AppToolbar--withSecondary":""),c:"AppToolbar-bar fixed fixed--top c-white bg-purple "+a,e:o,g:n,i:Ct,k:i,m:r}},Dt=function(t){var e=document.body?document.body.scrollTop:0,n=e>56&&e-t>0;return{scrollTop:e,scrollClass:n?" is-scrolling-down":""}};At.state={onInit:function(t){var e=t.bindSend;return requestAnimationFrame((function(){return document.body.onscroll=e("onScroll")})),Dt(0)},onScroll:function(t){var e=t.state.scrollTop;return Dt(e)}};var St=R.createDynamic,xt=R.el,wt=R.updateDynamic,Nt={c:function(t){var e=xt("div");return t.b=e,e.className=t.a,e.hidden=t.c,t.e=St(!0,e,t.d),e},u:function(t,e){var n;n=t.a,n!==e.a&&(e.b.className=n,e.a=n),n=t.c,n!==e.c&&(e.b.hidden=n,e.c=n),t.d!==e.d&&(e.e=wt(!0,e.d,e.d=t.d,e.e))},r:R.DEADPOOL},$t={c:function(t){var e=xt("a");return t.b=e,e.className=t.a,null!=t.c&&(e.href=t.c),t.e=St(!0,e,t.d),e},u:function(t,e){var n;n=t.a,n!==e.a&&(e.b.className=n,e.a=n),n=t.c,n!==e.c&&(e.b.href!==n&&(e.b.href=n),e.c=n),t.d!==e.d&&(e.e=wt(!0,e.d,e.d=t.d,e.e))},r:R.DEADPOOL},Pt=function(t){return t},Et=function(t){var e=t.className,n=t.context,r=t.list,o=t.transform,i=void 0===o?Pt:o,a=i?i(r,n):r||[];return{$s:Nt,a:e,c:!a.length,d:a.map(S,t)}},Lt=function(t){return String.fromCharCode(t.charCodeAt(0)-32)+t.slice(1)},jt=R.createComponent,Tt=R.createDynamic,zt=R.el,_t=R.updateComponent,Jt=R.updateDynamic,Rt={c:function(t){var e=(t.e=jt(Et,Et.state,{className:"Card",transform:t.a,item:t.b,itemClass:"List-item--noPadding",context:t.c,list:t.d},t)).$n;return e},u:function(t,e){t.c===e.c&&t.b===e.b&&t.a===e.a&&t.d===e.d||(e.e=_t(Et,Et.state,{className:"Card",transform:e.a=t.a,item:e.b=t.b,itemClass:"List-item--noPadding",context:e.c=t.c,list:e.d=t.d},e.e))},r:R.DEADPOOL},Gt={c:function(t){var e=(t.g=jt(Xt,Xt.state,{db:t.a,outfitId:t.b,selectedOutfitId:t.c,onSelect:t.d,onSetCategory:t.e,onAddExclusion:t.f},t)).$n;return e},u:function(t,e){t.e===e.e&&t.d===e.d&&t.c===e.c&&t.b===e.b&&t.a===e.a&&t.f===e.f||(e.g=_t(Xt,Xt.state,{db:e.a=t.a,outfitId:e.b=t.b,selectedOutfitId:e.c=t.c,onSelect:e.d=t.d,onSetCategory:e.e=t.e,onAddExclusion:e.f=t.f},e.g))},r:R.DEADPOOL},Ut={c:function(t){var e,n=zt("div");return t.b=n,n.className=t.a,e=zt("div"),e.className="OutfitRow-items layout horizontal center",t.d=Tt(!0,e,t.c),n.appendChild(e),t.f=Tt(!1,n,t.e),n},u:function(t,e){var n;n=t.a,n!==e.a&&(e.b.className=n,e.a=n),t.c!==e.c&&(e.d=Jt(!0,e.c,e.c=t.c,e.d)),t.e!==e.e&&(e.f=Jt(!1,e.e,e.e=t.e,e.f))},r:R.DEADPOOL},qt={c:function(t){var e=zt("div");return e.className="List",t.b=Tt(!1,e,t.a),t.d=Tt(!1,e,t.c),e},u:function(t,e){t.a!==e.a&&(e.b=Jt(!1,e.a,e.a=t.a,e.b)),t.c!==e.c&&(e.d=Jt(!1,e.c,e.c=t.c,e.d))},r:R.DEADPOOL},Ft={c:function(t){var e=zt("a");return e.className="List-item List-item--selection",t.b=e,e.onclick=t.a,e.innerText=t.c,e},u:function(t,e){var n;n=t.a,n!==e.a&&(e.b.onclick=n,e.a=n),n=t.c,n!==e.c&&(e.b.innerText=n,e.c=n)},r:R.DEADPOOL},Bt={c:function(t){var e=zt("a");return e.className="List-item List-item--selection",t.b=e,e.onclick=t.a,e.appendChild(document.createTextNode("Remove outfits with these items")),e},u:function(t,e){var n;n=t.a,n!==e.a&&(e.b.onclick=n,e.a=n)},r:R.DEADPOOL},Ht={c:function(t){var e=zt("span");return t.b=e,e.className=t.a,e.itemId=t.c,e.itemType=t.d,e.onclick=t.e,e.style.cssText=t.f,e},u:function(t,e){var n;n=t.a,n!==e.a&&(e.b.className=n,e.a=n),n=t.c,n!==e.c&&(e.b.itemId=n,e.c=n),n=t.d,n!==e.d&&(e.b.itemType=n,e.d=n),n=t.e,n!==e.e&&(e.b.onclick=n,e.e=n),n=t.f,n!==e.f&&(e.b.style.cssText=n,e.f=n)},r:R.DEADPOOL},Wt=25,Kt=["bottom","shirt","sweater","businessAttire"],Yt=Kt.reduce((function(t,e){return t[e]=0,t}),{}),Mt=function(t){return Kt.reduce((function(e,n){return e+(t[n]&&1)}),0)<2},Xt=function(t){var e=t.props,n=e.db,r=e.outfitId,o=e.selectedOutfitId,i=(e.onSelect,e.onSetCategory),a=t.state.selectedItems,c=t.bindSend,u=n.outfits[r],s=r===o;return{$s:Ut,a:"OutfitRow "+(s?"is-selected":""),c:Kt.map((function(t){var e=u[t];return{$s:Ht,a:"OutfitRow-item flex "+(a[t]===e?"is-selected":""),c:e,d:t,e:c("handleSelectItem"),f:"background-image: url("+n.items[e].closet_image_url+")"}})),e:s&&{$s:qt,a:!Mt(a)&&{$s:Bt,a:c("handleAddExclusion")},c:mt.map((function(t){return{$s:Ft,a:function(){return i(t)},c:Lt(t)}}))}}};Xt.state={onInit:function(t){t.props;return{selectedItems:Yt}},onProps:function(t){var e=t.props,n=e.selectedOutfitId,r=(e.outfit,e.outfitId),o=t.state;return{selectedItems:n===r?o.selectedItems:Yt}},handleSelectItem:function(t,e){var n=t.props,r=t.state.selectedItems,o=e.currentTarget,i=o.itemId,a=o.itemType;return setTimeout((function(){return n.onSelect(n.outfitId)})),{selectedItems:dt({},r,st({},a,0===r[a]?+i:0))}},handleAddExclusion:function(t){var e=t.props,n=t.state;return setTimeout((function(){return e.onAddExclusion(n.selectedItems)})),n}};var Qt=function(t,e){var n=e.db,r=e.selectedOutfitId,o=e.onSelect,i=e.onSetCategory,a=e.onAddExclusion;return{text:{$s:Gt,a:n,b:t,c:r,d:o,e:i,f:a}}},Vt=function(t,e){var n=e.db,r=e.category,o=e.user;return"uncategorized"===r?n.outfitIds.filter(x,o).filter(w,e).slice(0,Wt):t?Object.keys(t):[]},Zt=function(t){var e=t.props,n=e.user,r=e.category,o=e.db,i=t.state.selectedOutfitId,a=t.bindSend;return{$s:Rt,a:Vt,b:Qt,c:{category:r,db:o,user:n,selectedOutfitId:i,onSelect:a("handleSelectOutfit"),onSetCategory:a("handleSetCategory"),onAddExclusion:a("handleAddExclusion")},d:n[r]}},te=function(t){var e=(t.props,t.state);return{selectedOutfitId:e&&e.selectedOutfitId||0}},ee=function(t){return t.bottom+"-"+t.shirt+"-"+t.sweater+"-"+t.businessAttire};Zt.state={onInit:te,onProps:te,handleSelectOutfit:function(t,e){return{selectedOutfitId:e}},handleAddExclusion:function(t,e){var n=t.props.user;n.exclusions=n.exclusions||{};var r=ee(e);return n.exclusions[r]||(n.exclusions[r]=e,bt.save(n)),0},handleSetCategory:function(t,e){var n=t.props.user,r=t.state.selectedOutfitId;return n[e]=n[e]||{},n[e][r]||([].concat(ft(mt),["uncategorized"]).forEach((function(t){if(t===e)n[t][r]=1;else if(n[t]){var o=n[t];delete o[r]}})),bt.save(n)),0}};var ne=navigator.serviceWorker;ne&&ne.register("../serviceWorker.js");var re=R.createComponent,oe=R.createDynamic,ie=R.el,ae=R.updateComponent,ce=R.updateDynamic,ue={c:function(t){var e=(t.c=re(pe,pe.state,{user:t.a,db:t.b},t)).$n;return e},u:function(t,e){t.a===e.a&&t.b===e.b||(e.c=ae(pe,pe.state,{user:e.a=t.a,db:e.b=t.b},e.c))},r:R.DEADPOOL},se={c:function(t){var e=(t.c=re(M,M.state,{hrefPrefix:"#",selected:t.a,tabs:t.b},t)).$n;return e},u:function(t,e){t.a===e.a&&t.b===e.b||(e.c=ae(M,M.state,{hrefPrefix:"#",selected:e.a=t.a,tabs:e.b=t.b},e.c))},r:R.DEADPOOL},de={c:function(t){var e=re(F,F.state,{className:"c-white l-padding-h4",name:"three-bars",size:"small"},t).$n;return e},u:function(){},r:R.DEADPOOL},fe={c:function(t){var e,n=ie("body");return e=(t.c=re(At,At.state,{left:t.a,secondary:t.b,title:"OK"},t)).$n,n.appendChild(e),e=ie("button"),t.e=e,e.onclick=t.d,t.g=oe(!0,e,t.f),n.appendChild(e),t.i=oe(!1,n,t.h),n},u:function(t,e){var n;t.a===e.a&&t.b===e.b||(e.c=ae(At,At.state,{left:e.a=t.a,secondary:e.b=t.b,title:"OK"},e.c)),n=t.d,n!==e.d&&(e.e.onclick=n,e.d=n),t.f!==e.f&&(e.g=ce(!0,e.f,e.f=t.f,e.g)),t.h!==e.h&&(e.i=ce(!1,e.h,e.h=t.h,e.i))},r:R.DEADPOOL},le={c:function(t){var e=(t.d=re(Zt,Zt.state,{category:t.a,db:t.b,user:t.c},t)).$n;return e},u:function(t,e){t.b===e.b&&t.a===e.a&&t.c===e.c||(e.d=ae(Zt,Zt.state,{category:e.a=t.a,db:e.b=t.b,user:e.c=t.c},e.d))},r:R.DEADPOOL},he={uncategorized:{title:"Uncategorized"},yup:{title:"Yup"},nope:{title:"Nope"},maybe:{title:"Maybe"}},pe=function(t){var e=t.props,n=e.user,r=e.db,o=t.state.category;return{$s:fe,a:{$s:de},b:{$s:se,a:o,b:he},d:N,f:n?"Sign out":"Sign in",h:n&&r&&{$s:le,a:o,b:r,c:n}}},me=function(){return window.location.hash.slice(1)||"uncategorized"},be=function(t){var e=t.state;return{category:me()||e&&e.category}};pe.state={onInit:function(t){var e=t.bindSend;return window.onhashchange=e("handleHashChange"),be({})},onProps:be,handleHashChange:be};var ve=function(t,e){return{$s:ue,a:t,b:e}};firebase.initializeApp({apiKey:"AIzaSyBOWk2fU2p4Br1agfu25gY5NGYXy0ZDyS0",authDomain:"outfit-knockout-ef20f.firebaseapp.com",databaseURL:"https://outfit-knockout-ef20f.firebaseio.com",storageBucket:"outfit-knockout-ef20f.appspot.com"}),ut.get().then((function(t){document.body=R.render(ve(bt.current(),t)),firebase.auth().onAuthStateChanged((function(e){return e?void bt.get(e.uid).catch((function(){return bt.save({id:e.uid,displayName:e.displayName,excludedCombos:{},yup:{},nope:{},maybe:{}})})).then((function(e){bt.setCurrent(e.id),R.rerender(document.body,ve(e,t))})):R.rerender(document.body,ve(null,null))}))}))})();


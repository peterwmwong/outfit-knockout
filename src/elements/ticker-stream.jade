link(rel='import' href='../../bower_components/core-header-panel/core-header-panel.html')
link(rel='import' href='../../bower_components/core-toolbar/core-toolbar.html')
link(rel='import' href='../../bower_components/paper-fab/paper-fab.html')
link(rel='import' href='../../bower_components/paper-icon-button/paper-icon-button.html')
link(rel='import' href='./cards/ticker-github-events-card.html')

+polymer-element(attributes='isNarrow')

  core-header-panel(fit mode='{{isNarrow ? "waterfall" : "cover"}}')
    div(fit class='l-padding-h2 l-padding-t2 l-overflow-scroll-ios')
      template(if='{{state.streamEvents}}')
        ticker-github-events-card(block events='[[state.streamEvents]]')
        paper-fab(
          on-tap='[[stateFire.toggleFavoriteStream]]'
          icon="favorite"
          class='{{state.isStreamFavorited ? "c-bg-confirm" : "c-bg-error"}} \
                 {{isNarrow && "is-on-bottom"}} \
                 c-white')

    core-toolbar(class='{{!isNarrow && "medium-tall"}} c-white')
      template(if='{{isNarrow}}')
        paper-icon-button(
          class='l-margin-l2 l-margin-r0'
          icon='menu'
          on-tap='{{stateFire.toggleAppDrawer}}')
        span(flex class='l-margin-l1 t-font-size-20 t-normal')
          | {{state.stream.name}}
